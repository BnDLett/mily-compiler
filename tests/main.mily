/---------------------- MILYSCRIPT FEATURE DEMO ---------------------

/*
Variables and functions declared below here are supposed to be
in the standard library (bulb.mily)
but the library import feature (#include) has not been implemented yet (too eepy rn)
*/
/- start placeholders
void print() {}
/- end placeholders

/---------- Variable Declarations ----------
let num = 20;
int x = 6;
double y = 43.4;

/---------- Variable Assignments ----------
num = 30;
x = 10;
y = 40;

/---------- Explicit Casting (Primitive) ----------
int test2 = (int) 5.3;
int test = (int) (30 / 4);

/---------- Inline Statements ----------
num = 30; x = 10; y = 40;

/---------- Functions ----------
let f(int f_x) {
    return f_x;
}

int f2(let f_x, let f_y) {
    return (int) (f_x + f_y);
}

/---------- For Loops ----------
for (int i = 0; i < 100; i = i + 1) {
    print(i);
}

/---------- While Loops ----------
int while_var = 0;
while (true) {
    print(while_var);
    while_var = while_var + 1;
}

/---------- If Statements ----------
if (f2(4, 2) > 100 + x * y) {
    x = 1;
}
/------ Else If
else if (true) {
    y = 5;
}
/------ Else
else {
    y = 10; x = 90;
}

/---------- Complex Expressions ----------
boolean complex_function(let h, let j) {
    return (1 - ((h + j) * 4) + 1) == f2(h, j) && h + j > 10;
}
let complex = (-(((60 + (1 + -3 + 2 + -5 - 3) // -6 / -30 * (92 + 20) - -100 ** -2 / 3)) - 10)) + 289;
/- simplifies to 242.73333333333335 double on compilation

let complex_cast_int = (int) (-(((60 + (1 + -3 + 2 + -5 - 3) // -6 / -30 * (92 + 20) - -100 ** -2 / 3)) - 10)) + 289;

/- simplifies to 243 int on compilation

/-------------------- Semantic Errors (uncomment the lines to see)  --------------------

/---------- Undeclared Variable
/- amongus = 100;                    /- Variable "amongus" on line 76 is undeclared on file "main.mily"

/---------- Wrong Type Declaration
/- int value = false;                /- Cannot cast "boolean" into "int" on line 80

/---------- Wrong Type Assignment
/- boolean check = true;
/- check = 10.4;                     /- Cannot cast "double" into "boolean" on line 84

/---------- Wrong Type in Operation
/- let wrong_op = (7 * 9) + false;   /- Operator + cannot be applied to int and boolean

/---------- Redeclaration
/- let red = 10;
/- boolean red = 39;                 /- Variable "red" on line 1 is already declared within scope, file "main.mily"

/---------- Illegal Implicit Casting
/- int amogus3 = 5 / 2;              /- Cannot cast "double" into "int" on line 92

/---- The right way for this is to use integer division //
int amogus4 = 5 // 2;

/---- Or use an explicit cast
int amogus5 = (int) (5 / 2);